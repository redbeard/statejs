<html>
<head>
	<script type="text/javascript" src="../lib/jquery-1.3.2.js" ></script>
	<script type="text/javascript" src="../lib/state.js" ></script>
	<script type="text/javascript">
	var root = state({
		name: "Root",
		entry: function() {
			  // You can override shit here!
			  $(this).log("Non-default entry activity for state '" + this.fullName() + "'");
			 },

		subs: {
			initial: state({ 
				name: "1",
				subs: {
					initial: state(),
					beta: state()
				} }),
			2: state({
				subs: {
					initial: state({name: 'first target'}),
					secondary: state()
				}
			}),
			3: state()
		}
	});

	root.start();

	$(root.currentState()).log("Current state before transition is: " + root.currentState().fullName());

	root.currentState().transitionTo(root.locate("2"));
	$(root.currentState()).log("Current state after 1st transition is: " + root.currentState().fullName());
	$().log("---FIRST TRANSITION OVER---");
	root.currentState().transitionTo(root.locate("1/beta"));
	$(root.currentState()).log("Current state after 2nd transition is: " + root.currentState().fullName());
	$().log("---SECOND TRANSITION OVER---");


	// var target =root.locate("1/beta");
	// $(target).log("Target site.");
	// root.currentState().transitionTo(target);
</script>
</head>
<body>
	<div id="component">
		Component
	</div>
</body>
</html>